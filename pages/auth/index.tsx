import { useState } from 'react';
import Head from 'next/head';
import { createStyles, makeStyles, Theme } from '@material-ui/core';
import { useAuth } from '../../context/authContext';
import Aux from '../../hoc/Auxiliary/Auxiliary';
import BasicUserData from '../../components/Auth/BasicUserData';
import AddGames from '../../components/Auth/AddGames';
import AuthButtons from '../../components/Auth/AuthButtons';

const useStyles = makeStyles((theme: Theme) =>
  createStyles({
    container: {
      width: '100%',
      display: 'flex',
      flexDirection: 'column',
    },
  })
);

export default function Home() {
  const styles = useStyles();
  const { authPageNumber } = useAuth();
  const [userData, setUserData] = useState({
    userName: '',
    email: '',
    country: '',
    dob: new Date('2014-08-18T21:11:54'),
    phoneNumber: '',
  });
  return (
    <Aux>
      <Head>
        <title>Authentication</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>
      <div className={styles.container}>
        {
          {
            1: <AuthButtons />,
            2: <BasicUserData userData={userData} setUserData={setUserData} />,
            3: <AddGames />,
          }[authPageNumber]
        }
      </div>
    </Aux>
  );
}
